{"version":3,"sources":["./src/app/auth/auth-routing.module.ts","./src/app/auth/auth.page.html","./src/app/auth/auth.module.ts","./src/app/auth/auth.page.scss","./src/app/auth/auth.page.ts"],"names":[],"mappings":"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","file":"auth-auth-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AuthPage } from './auth.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AuthPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AuthPageRoutingModule {}\n","export default \"\\n\\n<ion-content>\\n<ion-grid *ngIf=\\\"isOtpAuth\\\"  class=\\\"ion-margin-top\\\" class=\\\"ion-margin-top\\\" >\\n  <ion-row class=\\\"auth-margin-top\\\" >\\n    <ion-col size=\\\"12\\\">\\n      <ion-text class=\\\"ion-text-center\\\" color=\\\"primary\\\">\\n        <h1 style=\\\"font-size: 70px; font-weight: bold; margin-top: 80px;\\\">Farmsell</h1>\\n   \\n      </ion-text>\\n      <ion-col  size=\\\"12\\\">\\n        <img src=\\\"assets/undraw_on_the_way_re_swjt.svg\\\" alt=\\\"\\\" srcset=\\\"\\\">\\n      </ion-col>\\n    \\n\\n    </ion-col>\\n    <ion-col  size=\\\"10\\\" offset=\\\"1\\\">\\n      <ion-item >\\n        <ion-input type=\\\"number\\\"  [(ngModel)]=\\\"mobileNumber\\\" placeholder=\\\"Enter your number\\\" required></ion-input>\\n      </ion-item>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\" offset=\\\"\\\">\\n      \\n      <ion-text  class=\\\"ion-text-center\\\" color=\\\"primary\\\">\\n        <p >By login, you agree to our terms and conditions</p>\\n      </ion-text>\\n    </ion-col>\\n   \\n  </ion-row>\\n</ion-grid>\\n\\n\\n<ion-grid *ngIf=\\\"!isOtpAuth\\\"  class=\\\"ion-margin-top\\\" class=\\\"ion-margin-top\\\" fixed>\\n \\n  <ion-text color=\\\"primary\\\">\\n    <h1>No Network</h1>\\n  </ion-text>\\n</ion-grid>\\n</ion-content>\\n\\n<ion-footer class=\\\"ion-no-border\\\">\\n <ion-toolbar >\\n  <ion-button *ngIf=\\\"isOtpAuth\\\" (click)=\\\"presentAlertConfirm()\\\" expand=\\\"full\\\" size=\\\"large\\\" >\\n    Get Otp\\n   </ion-button>\\n\\n   <!-- <ion-button  *ngIf=\\\"!isOtpAuth\\\" (click)=\\\"login()\\\" expand=\\\"full\\\" size=\\\"large\\\" >\\n    Login\\n   </ion-button> -->\\n   \\n </ion-toolbar>\\n  \\n\\n</ion-footer>\";","import {  NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AuthPageRoutingModule } from './auth-routing.module';\n\nimport { AuthPage } from './auth.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AuthPageRoutingModule\n  ],\n  declarations: [AuthPage],\n})\nexport class AuthPageModule {}\n","export default \"@import url(\\\"https://fonts.googleapis.com/css2?family=Lato:wght@900&display=swap\\\");\\nbody {\\n  font-family: \\\"Lato\\\", sans-serif;\\n}\\n.auth-margin-top {\\n  margin-top: 10%;\\n}\\nion-button {\\n  height: 60px;\\n  width: 100%;\\n  margin: 0px;\\n}\\nion-img {\\n  height: 100px !important;\\n}\\nion-input {\\n  text-align: center;\\n  --placeholder-align: center;\\n  --placeholder-margin: 0px;\\n}\\n.my-custom-class {\\n  --background: #660000;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2F1dGgucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFRLGtGQUFBO0FBR1I7RUFDSSwrQkFBQTtBQURKO0FBR0E7RUFDSSxlQUFBO0FBQUo7QUFHQTtFQUNJLFlBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtBQUFKO0FBR0E7RUFDSSx3QkFBQTtBQUFKO0FBR0E7RUFDSSxrQkFBQTtFQUNBLDJCQUFBO0VBQ0EseUJBQUE7QUFBSjtBQUlBO0VBQ0kscUJBQUE7QUFESiIsImZpbGUiOiJhdXRoLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUxhdG86d2dodEA5MDAmZGlzcGxheT1zd2FwJyk7XHJcblxyXG5cclxuYm9keXtcclxuICAgIGZvbnQtZmFtaWx5OiAnTGF0bycsIHNhbnMtc2VyaWY7XHJcbn1cclxuLmF1dGgtbWFyZ2luLXRvcHtcclxuICAgIG1hcmdpbi10b3A6MTAlO1xyXG59XHJcblxyXG5pb24tYnV0dG9ue1xyXG4gICAgaGVpZ2h0OiA2MHB4O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBtYXJnaW46IDBweDtcclxufVxyXG5cclxuaW9uLWltZ3tcclxuICAgIGhlaWdodDogMTAwcHggIWltcG9ydGFudDtcclxufVxyXG5cclxuaW9uLWlucHV0e1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgLS1wbGFjZWhvbGRlci1hbGlnbjogY2VudGVyO1xyXG4gICAgLS1wbGFjZWhvbGRlci1tYXJnaW46IDBweDtcclxuICAgIFxyXG59XHJcblxyXG4ubXktY3VzdG9tLWNsYXNzIHtcclxuICAgIC0tYmFja2dyb3VuZDogIzY2MDAwMDtcclxuICB9Il19 */\";","import { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController, LoadingController, ToastController } from '@ionic/angular';\nimport { environment } from 'src/environments/environment';\nimport { StorageService } from '../services/storage.service';\nimport { AuthService } from './auth.service';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.page.html',\n  styleUrls: ['./auth.page.scss'],\n})\nexport class AuthPage implements OnInit {\n\n\n  mobileNumber: String;\n\n  email: String;\n  password: String;\n\n\n\n  isOtpAuth = true;\n\n  constructor(private alertController: AlertController,\n              private router: Router,\n              private http: HttpClient,\n              private st: StorageService,\n              private LoadingCtrl: LoadingController,\n              private authService: AuthService,\n              public toastController: ToastController) {\n\n               \n\n               }\n\n  ngOnInit() {\n  }\n\n\n  async goToOtpPage() {\n    const loading = await this.LoadingCtrl.create({\n      message: \"Sending OTP...\", \n    });\n    loading.present();\n\n    this.authService.getToken(this.mobileNumber).subscribe(token =>{\n      console.log(token);\n      if(token['status'] === \"success\"){\n        loading.dismiss();\n        this.router.navigate(['enter-otp', this.mobileNumber]);\n      }\n      if(token['status'] === \"error\" ){\n        console.log(\"Something went Wrong!\");\n        this.presentToast(\"Something went wrong!\");\n        loading.dismiss();\n        \n      }\n    }, (error) =>{\n      this.presentToast(error.message);\n      loading.dismiss();\n\n    })\n  }\n\n\n\n  async login() {\n    const loading = await this.LoadingCtrl.create({\n      message: \"Please wait...\", \n      \n    });\n    loading.present();\n\n    let body = {\n      email: this.email,\n      password: this.password\n    }\n    this.http.post(environment.API_URL+'/user/login' ,body)\n    .subscribe(async (user) => {\n      console.log(user['userId']);\n      if(user){\n        this.st.set('userId', user['userId']).then(userId => {\n          loading.dismiss();\n          this.router.navigate(['tabs', 'tab1']);\n        }).catch(error => {\n          console.log(error);\n          \n        })\n        \n      }\n    },(error) => {\n      loading.dismiss();\n      console.log(error.message);\n      \n    })\n  }\n\n  async presentAlertConfirm() {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Confirm your number',\n      message: `We will be Verifying your phone number <strong>${this.mobileNumber}</strong><br><br>Do you want to continue to verify your phone number?`,\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Okay',\n          handler: () => {\n            console.log('Confirm Okay');\n            this.goToOtpPage();\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  async presentToast(msg: string) {\n    const toast = await this.toastController.create({\n      message: msg,\n      duration: 3000\n    });\n    toast.present();\n  }\n}\n"],"sourceRoot":"webpack:///"}